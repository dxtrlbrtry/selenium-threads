# Project description

This project contains a test project, and a web api that serves as a data source for the tests.
The test project is a Java based test framework using TestNG, implementing the Webdriver library that use Java's multithreading ability to execute tests in browsers in parallel.

## System requirements

- MacOS or Linux
- Docker / docker compose
- Make

# Build

Clone the project and navigate to the root directory.
To build the project, execute `make build`.
This will build both the test and the api project.

# Run

To run the tests, execute `make run SUITE_XML=<my suite>`. This will start the web api and the database images. The tests will wait until the server starts responding to requests, and the provided xml will be executed afterwards.
The available suites can be found under selenium-threads/src/resources folder. Note that changes to the suite xmls is reflected when running tests using the `make run...` command. To reflect other code changes when running tests, use the `make debug SUITE_XML=<my_suite>` command, which will mount the whole project inside the docker image.

# Results

Results are copied from within the container to the `output` folder. The `output/webdriver` folder contains webdriver logs and test fail screenshots. The `output/report` folder contains the reports generated by surefire-report.

# Configuration

The following parameters can be passed to the suite xml to influence execution:

- failThreshold
  - Stops test execution if the specified failed test percentage is reached
  - Type: Int
- executionTarget
  - Stops test execution if the specified execution percentage is reached
  - Type: Int
- implicitTimeout
  - Default timeout in milliseconds for the webdriver
  - Type: Int
- pageLoadTimeout
  - Default timeout in millisecond for the browser page to load
  - Type: Int
- browser
  - Target browser to run the tests
  - Type: chrome | firefox
